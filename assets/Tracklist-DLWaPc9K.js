const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PagesSetUp-Cl-BYwZj.js","assets/index-DHzO0Nh3.js","assets/index-C55LVeGN.css"])))=>i.map(i=>d[i]);
import{r as u,j as n,_ as v}from"./index-DHzO0Nh3.js";const y=({uniqueKey:i,id:a,name:m,artist:c,album:d,uri:h,imageUri:t,image:o,isSelected:r,onRemove:g,onAdd:l,keyPrefix:j})=>{const s=u.useMemo(()=>({uniqueKey:i,id:a,name:m,artist:c,album:d,uri:h,imageUri:t||o||"/music_note_baseImage.jpg"}),[i,a,m,c,d,h,t,o]),p=u.useCallback(()=>{r(s)?g(s):l(s)},[r,l,g,s]);return n.jsx("div",{className:"displaytrackContainer",children:n.jsxs("div",{className:"trackBlock",children:[n.jsx("div",{className:"trackImage",children:n.jsx("img",{src:s.imageUri,alt:`Album art for ${s.name}`})}),n.jsxs("div",{className:"trackText",id:s.id,children:[n.jsx("h4",{children:s.name}),n.jsx("p",{id:"artist",children:s.artist}),n.jsx("p",{id:"album",children:s.album})]}),n.jsx("button",{id:"trackButton","data-testid":`${j}-${s.id}`,onClick:p,children:r(s)?"-":"+"})]})})},N=u.lazy(()=>v(()=>import("./PagesSetUp-Cl-BYwZj.js"),__vite__mapDeps([0,1,2]))),q=({tracks:i,tracksPerPage:a=5,onAdd:m,onRemove:c,keyPrefix:d="",allowDuplicateAdd:h=!1})=>{const[t,o]=u.useState(0),r=t*a,g=r+a,l=i.slice(r,g);if(u.useEffect(()=>{const e=Math.ceil(i.length/a);t>=e&&o(Math.max(0,e-1))},[i.length,a,t]),l.length===0&&i.length>0)return console.log("There are fewer tracks than the tracks per page"),n.jsx("p",{children:"There are fewer tracks than the tracks per page."});if(!l||l.length===0)return;const j=e=>!h&&i.some(x=>x.uniqueKey===e.uniqueKey),s=()=>{(t+1)*a<i.length&&o(t+1)},p=()=>{t>0&&o(t-1)};return n.jsxs("div",{className:"displayTrackList",children:[l.length===0?n.jsx("p",{children:"No tracks found"}):l.map(e=>{var x,f,b,T;return n.jsx(y,{uniqueKey:e.uniqueKey,id:e.id,name:e.name,artist:(x=e.album)!=null&&x.artists?e.album.artists.map(_=>_.name).join(", "):e.artist,album:e.album.name||e.album||"Unknown Album",imageUri:((T=(b=(f=e.album)==null?void 0:f.images)==null?void 0:b[1])==null?void 0:T.url)||e.image||e.imageUri||"Image not Found",uri:e.uri,onAdd:m,onRemove:c,isSelected:j,keyPrefix:d},`${d}${e.uniqueKey?e.uniqueKey:e.id}`)}),i.length>a&&n.jsx(u.Suspense,{fallback:n.jsx("div",{children:"Loading..."}),children:n.jsx(N,{currentPage:t,setCurrentPage:o,totalPages:Math.ceil(i.length/a),goToNextPage:s,goToPreviousPage:p})})]})};export{q as T};
